:80 {
    encode gzip

    handle /api/* {
        reverse_proxy http://frontir-backend.railway.internal:8080 {
            header_up X-API-Key {$API_KEY}
        }
    }

    handle {
        root * /usr/share/caddy
        try_files {path} {path}.html
        file_server
    }
}
